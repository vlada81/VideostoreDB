@model VideostoreDB.ViewModel.MovieGenreViewModel

@{
    ViewBag.Title = "Edit";
}

<h2>Edit a Movie</h2>
<br />
<form class="form-horizontal" method="post" action="/movie/edit">
    <fieldset>
        <legend>Edit movie: @Model.Movie.Name</legend>
        <!-- START    Dodali smo polje ID kako bi preneo taj podatak Akciji, ali smo ga postavli na hidden da se nevidi na formi  -->
        <div class="form-group" hidden>
            <label for="id" class="col-lg-2 control-label">Id</label>
            <div class="col-lg-10">
                <input type="text" class="form-control" name="Movie.MovieId" value="@Model.Movie.MovieId" />
            </div>
        </div>
        <!-- END  -->
        <div class="form-group">
            <label for="name" class="col-lg-2 control-label">Name</label>
            <div class="col-lg-10">
                <input type="text" class="form-control" name="Movie.Name" value="@Model.Movie.Name" required />
            </div>
        </div>
        <div class="form-group">
            <label for="price" class="col-lg-2 control-label">Price</label>
            <div class="col-lg-10">
                <input type="text" class="form-control" name="Movie.Price" value="@Model.Movie.Price" step="0.01" required />
            </div>
        </div>
        <div class="form-group">
            <label for="genre" class="col-lg-2 control-label">Genre</label>
            <div class="col-lg-10">
                <select class="form-control" required name="SelectedGenreId">
                    @foreach (var g in Model.Genres)
                    {
                        if (g.GenreId == Model.Movie.GenreId)
                        {
                            <option value="@g.GenreId" selected>@g.Name</option>
                        }
                        else
                        {
                            <option value="@g.GenreId">@g.Name</option>
                        }
                    }
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="price" class="col-lg-2 control-label">Release Date</label>
            <div class="col-lg-10">
                <input type="number" class="form-control" name="Movie.ReleaseDate" value="@Model.Movie.ReleaseDate" required />
            </div>
        </div>
        <div class="form-group">
            <div class="col-lg-10 col-lg-offset-2">
                <a class="btn btn-default" href="/movie/index">Cancel</a>
                <button type="submit" class="btn btn-primary">Save Changes</button>
            </div>
        </div>
    </fieldset>
</form>